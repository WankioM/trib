{"ast":null,"code":"import React, { Component, useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport \"./Register.css\";\n//import { useAuth, AuthContext  } from '../Context/AuthContext';\n\nfunction RegistrationForm() {\n\n  /*\r\n    const navigate = useNavigate();\r\n  const { setGeneratedId } = useContext(AuthContext);\r\n  \r\n  \r\n  \r\n  const [formData, setFormData] = useState({\r\n    deceasedName: '',\r\n    dateOfBirth: '',\r\n    dateOfPassing: '',\r\n    briefDescription: '',\r\n    deathCertificateNumber: '',\r\n  });\r\n   \r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n    const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log('Starting submit function');\r\n      // Handle form submission, e.g., send data to the server or perform validation.\r\n    const registrationData = {\r\n      deceasedName: formData.deceasedName,\r\n      dateOfBirth: formData.dateOfBirth,\r\n      dateOfPassing: formData.dateOfPassing,\r\n      briefDescription: formData.briefDescription,\r\n      deathCertificateNumber: formData.deathCertificateNumber,\r\n    };\r\n      // Make a POST request to the server API\r\n    axios\r\n      .post('http://localhost:3001/api/register', registrationData)\r\n      .then((response) => {\r\n        // Registration was successful\r\n        console.log(response.data.message);\r\n        const generatedId = response.data.generatedId;\r\n          console.log(response.data.generatedId);\r\n        setGeneratedId(generatedId);\r\n        \r\n          navigate(`/dashboard`);\r\n     \r\n      })\r\n      .catch((error) => {\r\n        // Handle registration error\r\n        console.error('Error registering deceased:', error);\r\n        // You can display an error message to the user\r\n      });\r\n  };\r\n    \r\n    return (\r\n      <div className='grad-background'>\r\n      <div className=\"registration-container\">\r\n        <h2>Register a Death</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"deceasedName\">Deceased Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"deceasedName\"\r\n              name=\"deceasedName\"\r\n              value={formData.deceasedName}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"dateOfBirth\">Date of Birth</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dateOfBirth\"\r\n              name=\"dateOfBirth\"\r\n              value={formData.dateOfBirth}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"dateOfPassing\">Date of Passing</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dateOfPassing\"\r\n              name=\"dateOfPassing\"\r\n              value={formData.dateOfPassing}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"briefDescription\">Brief Description</label>\r\n            <textarea\r\n              id=\"briefDescription\"\r\n              name=\"briefDescription\"\r\n              value={formData.briefDescription}\r\n              onChange={handleInputChange}\r\n              rows=\"4\"\r\n              required\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"deathCertificateNumber\">Death Certificate Number</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"deathCertificateNumber\"\r\n              name=\"deathCertificateNumber\"\r\n              value={formData.deathCertificateNumber}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" onClick={handleSubmit}>Register</button>\r\n        </form>\r\n      </div>\r\n      </div>\r\n    );\r\n    */\n}\n_c = RegistrationForm;\nexport default RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["React","Component","useState","useContext","useNavigate","axios","RegistrationForm","_c","$RefreshReg$"],"sources":["C:/Users/VICTUS/Documents/WebApps/trib/trib/src/components/Register/Register.js"],"sourcesContent":["import React, { Component, useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport \"./Register.css\"\r\n//import { useAuth, AuthContext  } from '../Context/AuthContext';\r\n\r\n\r\nfunction RegistrationForm() {\r\n\r\n  /*\r\n\r\n  const navigate = useNavigate();\r\n  const { setGeneratedId } = useContext(AuthContext);\r\n  \r\n  \r\n  \r\n  const [formData, setFormData] = useState({\r\n    deceasedName: '',\r\n    dateOfBirth: '',\r\n    dateOfPassing: '',\r\n    briefDescription: '',\r\n    deathCertificateNumber: '',\r\n  });\r\n\r\n \r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log('Starting submit function');\r\n\r\n    // Handle form submission, e.g., send data to the server or perform validation.\r\n    const registrationData = {\r\n      deceasedName: formData.deceasedName,\r\n      dateOfBirth: formData.dateOfBirth,\r\n      dateOfPassing: formData.dateOfPassing,\r\n      briefDescription: formData.briefDescription,\r\n      deathCertificateNumber: formData.deathCertificateNumber,\r\n    };\r\n\r\n    // Make a POST request to the server API\r\n    axios\r\n      .post('http://localhost:3001/api/register', registrationData)\r\n      .then((response) => {\r\n        // Registration was successful\r\n        console.log(response.data.message);\r\n        const generatedId = response.data.generatedId;\r\n\r\n        console.log(response.data.generatedId);\r\n        setGeneratedId(generatedId);\r\n        \r\n\r\n        navigate(`/dashboard`);\r\n     \r\n      })\r\n      .catch((error) => {\r\n        // Handle registration error\r\n        console.error('Error registering deceased:', error);\r\n        // You can display an error message to the user\r\n      });\r\n  };\r\n\r\n  \r\n    return (\r\n      <div className='grad-background'>\r\n      <div className=\"registration-container\">\r\n        <h2>Register a Death</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"deceasedName\">Deceased Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"deceasedName\"\r\n              name=\"deceasedName\"\r\n              value={formData.deceasedName}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"dateOfBirth\">Date of Birth</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dateOfBirth\"\r\n              name=\"dateOfBirth\"\r\n              value={formData.dateOfBirth}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"dateOfPassing\">Date of Passing</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dateOfPassing\"\r\n              name=\"dateOfPassing\"\r\n              value={formData.dateOfPassing}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"briefDescription\">Brief Description</label>\r\n            <textarea\r\n              id=\"briefDescription\"\r\n              name=\"briefDescription\"\r\n              value={formData.briefDescription}\r\n              onChange={handleInputChange}\r\n              rows=\"4\"\r\n              required\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label htmlFor=\"deathCertificateNumber\">Death Certificate Number</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"deathCertificateNumber\"\r\n              name=\"deathCertificateNumber\"\r\n              value={formData.deathCertificateNumber}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" onClick={handleSubmit}>Register</button>\r\n        </form>\r\n      </div>\r\n      </div>\r\n    );\r\n    */\r\n    }\r\n\r\n\r\nexport default RegistrationForm;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,gBAAgB;AACvB;;AAGA,SAASC,gBAAgBA,CAAA,EAAG;;EAE1B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlHE;AA2HGC,EAAA,GA7HID,gBAAgB;AAgIzB,eAAeA,gBAAgB;AAAC,IAAAC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}